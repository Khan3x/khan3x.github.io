<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600">
  <style>
    text { font-family: Arial, sans-serif; font-size: 14px; }
    .title { font-size: 24px; font-weight: bold; }
    .step-title { font-size: 18px; font-weight: bold; }
    .arrow { fill: none; stroke: #333; stroke-width: 2; }
  </style>
  
  <!-- 标题 -->
  <text x="400" y="30" text-anchor="middle" class="title">堆排序算法可视化</text>

  <!-- 步骤1: 构建最大堆 -->
  <text x="50" y="70" class="step-title">步骤1: 构建最大堆</text>
  <g transform="translate(50, 100)">
    <circle cx="100" cy="0" r="20" fill="#FFB3BA"/>
    <text x="100" y="5" text-anchor="middle">9</text>
    
    <circle cx="50" cy="50" r="20" fill="#BAFFC9"/>
    <text x="50" y="55" text-anchor="middle">4</text>
    
    <circle cx="150" cy="50" r="20" fill="#BAE1FF"/>
    <text x="150" y="55" text-anchor="middle">7</text>
    
    <circle cx="25" cy="100" r="20" fill="#FFFFBA"/>
    <text x="25" y="105" text-anchor="middle">1</text>
    
    <circle cx="75" cy="100" r="20" fill="#FFDFBA"/>
    <text x="75" y="105" text-anchor="middle">3</text>
    
    <circle cx="125" cy="100" r="20" fill="#E1BAFF"/>
    <text x="125" y="105" text-anchor="middle">2</text>
    
    <circle cx="175" cy="100" r="20" fill="#C9BAFF"/>
    <text x="175" y="105" text-anchor="middle">5</text>
    
    <!-- 连接线 -->
    <line x1="100" y1="20" x2="50" y2="30" stroke="#333" stroke-width="2"/>
    <line x1="100" y1="20" x2="150" y2="30" stroke="#333" stroke-width="2"/>
    <line x1="50" y1="70" x2="25" y2="80" stroke="#333" stroke-width="2"/>
    <line x1="50" y1="70" x2="75" y2="80" stroke="#333" stroke-width="2"/>
    <line x1="150" y1="70" x2="125" y2="80" stroke="#333" stroke-width="2"/>
    <line x1="150" y1="70" x2="175" y2="80" stroke="#333" stroke-width="2"/>
  </g>

  <!-- 步骤2: 交换根节点与最后一个节点 -->
  <text x="400" y="70" class="step-title">步骤2: 交换根节点与最后一个节点</text>
  <g transform="translate(400, 100)">
    <circle cx="100" cy="0" r="20" fill="#FFB3BA"/>
    <text x="100" y="5" text-anchor="middle">5</text>
    
    <circle cx="50" cy="50" r="20" fill="#BAFFC9"/>
    <text x="50" y="55" text-anchor="middle">4</text>
    
    <circle cx="150" cy="50" r="20" fill="#BAE1FF"/>
    <text x="150" y="55" text-anchor="middle">7</text>
    
    <circle cx="25" cy="100" r="20" fill="#FFFFBA"/>
    <text x="25" y="105" text-anchor="middle">1</text>
    
    <circle cx="75" cy="100" r="20" fill="#FFDFBA"/>
    <text x="75" y="105" text-anchor="middle">3</text>
    
    <circle cx="125" cy="100" r="20" fill="#E1BAFF"/>
    <text x="125" y="105" text-anchor="middle">2</text>
    
    <circle cx="175" cy="100" r="20" fill="#C9BAFF"/>
    <text x="175" y="105" text-anchor="middle">9</text>
    
    <!-- 连接线 -->
    <line x1="100" y1="20" x2="50" y2="30" stroke="#333" stroke-width="2"/>
    <line x1="100" y1="20" x2="150" y2="30" stroke="#333" stroke-width="2"/>
    <line x1="50" y1="70" x2="25" y2="80" stroke="#333" stroke-width="2"/>
    <line x1="50" y1="70" x2="75" y2="80" stroke="#333" stroke-width="2"/>
    <line x1="150" y1="70" x2="125" y2="80" stroke="#333" stroke-width="2"/>
    <line x1="150" y1="70" x2="175" y2="80" stroke="#333" stroke-width="2"/>
    
    <!-- 交换箭头 -->
    <path d="M 100,-30 Q 150,-15 175,80" class="arrow" marker-end="url(#arrowhead)"/>
    <path d="M 175,120 Q 150,135 100,20" class="arrow" marker-end="url(#arrowhead)"/>
  </g>

  <!-- 步骤3: 对剩余节点进行堆化 -->
  <text x="50" y="300" class="step-title">步骤3: 对剩余节点进行堆化</text>
  <g transform="translate(50, 330)">
    <circle cx="100" cy="0" r="20" fill="#FFB3BA"/>
    <text x="100" y="5" text-anchor="middle">7</text>
    
    <circle cx="50" cy="50" r="20" fill="#BAFFC9"/>
    <text x="50" y="55" text-anchor="middle">4</text>
    
    <circle cx="150" cy="50" r="20" fill="#BAE1FF"/>
    <text x="150" y="55" text-anchor="middle">5</text>
    
    <circle cx="25" cy="100" r="20" fill="#FFFFBA"/>
    <text x="25" y="105" text-anchor="middle">1</text>
    
    <circle cx="75" cy="100" r="20" fill="#FFDFBA"/>
    <text x="75" y="105" text-anchor="middle">3</text>
    
    <circle cx="125" cy="100" r="20" fill="#E1BAFF"/>
    <text x="125" y="105" text-anchor="middle">2</text>
    
    <circle cx="175" cy="100" r="20" fill="#C9BAFF"/>
    <text x="175" y="105" text-anchor="middle">9</text>
    
    <!-- 连接线 -->
    <line x1="100" y1="20" x2="50" y2="30" stroke="#333" stroke-width="2"/>
    <line x1="100" y1="20" x2="150" y2="30" stroke="#333" stroke-width="2"/>
    <line x1="50" y1="70" x2="25" y2="80" stroke="#333" stroke-width="2"/>
    <line x1="50" y1="70" x2="75" y2="80" stroke="#333" stroke-width="2"/>
    <line x1="150" y1="70" x2="125" y2="80" stroke="#333" stroke-width="2"/>
    <line x1="150" y1="70" x2="175" y2="80" stroke="#333" stroke-width="2"/>
  </g>

  <!-- 步骤4: 重复步骤2-3 -->
  <text x="400" y="300" class="step-title">步骤4: 重复步骤2-3直到排序完成</text>
  <g transform="translate(400, 330)">
    <circle cx="25" cy="0" r="20" fill="#FFFFBA"/>
    <text x="25" y="5" text-anchor="middle">1</text>
    
    <circle cx="75" cy="0" r="20" fill="#FFDFBA"/>
    <text x="75" y="5" text-anchor="middle">2</text>
    
    <circle cx="125" cy="0" r="20" fill="#E1BAFF"/>
    <text x="125" y="5" text-anchor="middle">3</text>
    
    <circle cx="175" cy="0" r="20" fill="#C9BAFF"/>
    <text x="175" y="5" text-anchor="middle">4</text>
    
    <circle cx="225" cy="0" r="20" fill="#BAFFC9"/>
    <text x="225" y="5" text-anchor="middle">5</text>
    
    <circle cx="275" cy="0" r="20" fill="#BAE1FF"/>
    <text x="275" y="5" text-anchor="middle">7</text>
    
    <circle cx="325" cy="0" r="20" fill="#FFB3BA"/>
    <text x="325" y="5" text-anchor="middle">9</text>
  </g>

  <!-- 说明文字 -->
  <text x="50" y="500">1. 构建最大堆：从最后一个非叶子节点开始，依次进行下沉操作</text>
  <text x="50" y="525">2. 将堆顶元素（最大值）与末尾元素交换，将最大值放到数组末端</text>
  <text x="50" y="550">3. 对剩余n-1个元素重新进行堆化，将新的最大值交换到堆顶</text>
  <text x="50" y="575">4. 重复步骤2和3，直到整个数组排序完成</text>

  <!-- 箭头定义 -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" />
    </marker>
  </defs>

  <!-- 水印 -->
  <text x="400" y="300" font-family="Arial, sans-serif" font-size="200" fill="rgba(150,150,150,0.15)" text-anchor="middle" transform="rotate(-30 400 300)">偷偷星球</text>
</svg>



