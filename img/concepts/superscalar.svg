<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1200" height="800" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" font-size="24" font-weight="bold" fill="#2c3e50">
    Superscalar Architecture Pipeline Stages
  </text>
  
  <!-- Instruction Fetch Stage -->
  <rect x="50" y="80" width="120" height="80" fill="#3498db" stroke="#2980b9" stroke-width="2" rx="5"/>
  <text x="110" y="110" text-anchor="middle" font-size="14" font-weight="bold" fill="white">Instruction</text>
  <text x="110" y="130" text-anchor="middle" font-size="14" font-weight="bold" fill="white">Fetch</text>
  <text x="110" y="150" text-anchor="middle" font-size="10" fill="white">(IF)</text>
  
  <!-- Multiple Instructions Flow -->
  <rect x="50" y="180" width="30" height="20" fill="#e74c3c" stroke="#c0392b" stroke-width="1" rx="2"/>
  <text x="65" y="195" text-anchor="middle" font-size="10" fill="white">I1</text>
  <rect x="90" y="180" width="30" height="20" fill="#e74c3c" stroke="#c0392b" stroke-width="1" rx="2"/>
  <text x="105" y="195" text-anchor="middle" font-size="10" fill="white">I2</text>
  <rect x="130" y="180" width="30" height="20" fill="#e74c3c" stroke="#c0392b" stroke-width="1" rx="2"/>
  <text x="145" y="195" text-anchor="middle" font-size="10" fill="white">I3</text>
  
  <!-- Instruction Decode Stage -->
  <rect x="220" y="80" width="120" height="80" fill="#9b59b6" stroke="#8e44ad" stroke-width="2" rx="5"/>
  <text x="280" y="110" text-anchor="middle" font-size="14" font-weight="bold" fill="white">Instruction</text>
  <text x="280" y="130" text-anchor="middle" font-size="14" font-weight="bold" fill="white">Decode</text>
  <text x="280" y="150" text-anchor="middle" font-size="10" fill="white">(ID)</text>
  
  <!-- Register Renaming -->
  <rect x="390" y="80" width="120" height="80" fill="#f39c12" stroke="#e67e22" stroke-width="2" rx="5"/>
  <text x="450" y="110" text-anchor="middle" font-size="14" font-weight="bold" fill="white">Register</text>
  <text x="450" y="130" text-anchor="middle" font-size="14" font-weight="bold" fill="white">Renaming</text>
  <text x="450" y="150" text-anchor="middle" font-size="10" fill="white">(RR)</text>
  
  <!-- Issue/Dispatch Stage -->
  <rect x="560" y="80" width="120" height="80" fill="#e67e22" stroke="#d35400" stroke-width="2" rx="5"/>
  <text x="620" y="110" text-anchor="middle" font-size="14" font-weight="bold" fill="white">Issue/</text>
  <text x="620" y="130" text-anchor="middle" font-size="14" font-weight="bold" fill="white">Dispatch</text>
  <text x="620" y="150" text-anchor="middle" font-size="10" fill="white">(IS)</text>
  
  <!-- Multiple Execution Units -->
  <text x="850" y="70" text-anchor="middle" font-size="16" font-weight="bold" fill="#2c3e50">
    Parallel Execution Units
  </text>
  
  <!-- ALU 1 -->
  <rect x="750" y="100" width="80" height="60" fill="#27ae60" stroke="#229954" stroke-width="2" rx="5"/>
  <text x="790" y="125" text-anchor="middle" font-size="12" font-weight="bold" fill="white">ALU 1</text>
  <text x="790" y="145" text-anchor="middle" font-size="10" fill="white">Integer</text>
  
  <!-- ALU 2 -->
  <rect x="850" y="100" width="80" height="60" fill="#27ae60" stroke="#229954" stroke-width="2" rx="5"/>
  <text x="890" y="125" text-anchor="middle" font-size="12" font-weight="bold" fill="white">ALU 2</text>
  <text x="890" y="145" text-anchor="middle" font-size="10" fill="white">Integer</text>
  
  <!-- FPU -->
  <rect x="950" y="100" width="80" height="60" fill="#2980b9" stroke="#1f618d" stroke-width="2" rx="5"/>
  <text x="990" y="125" text-anchor="middle" font-size="12" font-weight="bold" fill="white">FPU</text>
  <text x="990" y="145" text-anchor="middle" font-size="10" fill="white">Float Point</text>
  
  <!-- Load/Store Unit -->
  <rect x="1050" y="100" width="80" height="60" fill="#8e44ad" stroke="#7d3c98" stroke-width="2" rx="5"/>
  <text x="1090" y="120" text-anchor="middle" font-size="12" font-weight="bold" fill="white">Load/</text>
  <text x="1090" y="135" text-anchor="middle" font-size="12" font-weight="bold" fill="white">Store</text>
  <text x="1090" y="150" text-anchor="middle" font-size="10" fill="white">Memory</text>
  
  <!-- Write Back Stage -->
  <rect x="850" y="220" width="120" height="60" fill="#c0392b" stroke="#a93226" stroke-width="2" rx="5"/>
  <text x="910" y="245" text-anchor="middle" font-size="14" font-weight="bold" fill="white">Write Back</text>
  <text x="910" y="265" text-anchor="middle" font-size="10" fill="white">(WB)</text>
  
  <!-- Commit Stage -->
  <rect x="1000" y="220" width="120" height="60" fill="#7f8c8d" stroke="#566573" stroke-width="2" rx="5"/>
  <text x="1060" y="245" text-anchor="middle" font-size="14" font-weight="bold" fill="white">Commit</text>
  <text x="1060" y="265" text-anchor="middle" font-size="10" fill="white">(CM)</text>
  
  <!-- Pipeline Flow Arrows -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2c3e50"/>
    </marker>
  </defs>
  
  <!-- Horizontal Pipeline Flow -->
  <path d="M 170 120 L 210 120" stroke="#2c3e50" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 340 120 L 380 120" stroke="#2c3e50" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 510 120 L 550 120" stroke="#2c3e50" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Dispatch to Multiple Execution Units -->
  <path d="M 680 110 L 740 110" stroke="#2c3e50" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 680 120 L 740 120" stroke="#2c3e50" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 680 130 L 740 130" stroke="#2c3e50" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <path d="M 680 115 L 840 115" stroke="#2c3e50" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 680 125 L 840 125" stroke="#2c3e50" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 680 135 L 840 135" stroke="#2c3e50" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <path d="M 680 120 L 940 120" stroke="#2c3e50" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 680 130 L 940 130" stroke="#2c3e50" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <path d="M 680 125 L 1040 125" stroke="#2c3e50" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 680 135 L 1040 135" stroke="#2c3e50" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Execution Units to Write Back -->
  <path d="M 790 160 L 890 210" stroke="#2c3e50" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 890 160 L 910 210" stroke="#2c3e50" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 990 160 L 930 210" stroke="#2c3e50" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 1090 160 L 950 210" stroke="#2c3e50" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Write Back to Commit -->
  <path d="M 970 250 L 990 250" stroke="#2c3e50" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Branch Prediction Unit -->
  <rect x="50" y="320" width="120" height="60" fill="#16a085" stroke="#138d75" stroke-width="2" rx="5"/>
  <text x="110" y="345" text-anchor="middle" font-size="12" font-weight="bold" fill="white">Branch</text>
  <text x="110" y="365" text-anchor="middle" font-size="12" font-weight="bold" fill="white">Prediction</text>
  
  <!-- Reservation Station -->
  <rect x="220" y="320" width="120" height="60" fill="#d35400" stroke="#ba4a00" stroke-width="2" rx="5"/>
  <text x="280" y="345" text-anchor="middle" font-size="12" font-weight="bold" fill="white">Reservation</text>
  <text x="280" y="365" text-anchor="middle" font-size="12" font-weight="bold" fill="white">Station</text>
  
  <!-- Reorder Buffer -->
  <rect x="390" y="320" width="120" height="60" fill="#884ea0" stroke="#7d3c98" stroke-width="2" rx="5"/>
  <text x="450" y="345" text-anchor="middle" font-size="12" font-weight="bold" fill="white">Reorder</text>
  <text x="450" y="365" text-anchor="middle" font-size="12" font-weight="bold" fill="white">Buffer</text>
  
  <!-- Pipeline Timeline -->
  <text x="50" y="450" font-size="16" font-weight="bold" fill="#2c3e50">Pipeline Timeline (Clock Cycles):</text>
  
  <!-- Timeline Grid -->
  <rect x="50" y="480" width="1100" height="200" fill="none" stroke="#bdc3c7" stroke-width="1"/>
  
  <!-- Clock Cycle Headers -->
  <text x="100" y="470" text-anchor="middle" font-size="12" font-weight="bold" fill="#2c3e50">Cycle 1</text>
  <text x="200" y="470" text-anchor="middle" font-size="12" font-weight="bold" fill="#2c3e50">Cycle 2</text>
  <text x="300" y="470" text-anchor="middle" font-size="12" font-weight="bold" fill="#2c3e50">Cycle 3</text>
  <text x="400" y="470" text-anchor="middle" font-size="12" font-weight="bold" fill="#2c3e50">Cycle 4</text>
  <text x="500" y="470" text-anchor="middle" font-size="12" font-weight="bold" fill="#2c3e50">Cycle 5</text>
  
  <!-- Instruction Timeline -->
  <text x="30" y="500" font-size="10" fill="#2c3e50">I1:</text>
  <rect x="60" y="485" width="40" height="20" fill="#3498db" opacity="0.7"/>
  <text x="80" y="500" text-anchor="middle" font-size="8" fill="white">IF</text>
  <rect x="160" y="485" width="40" height="20" fill="#9b59b6" opacity="0.7"/>
  <text x="180" y="500" text-anchor="middle" font-size="8" fill="white">ID</text>
  <rect x="260" y="485" width="40" height="20" fill="#f39c12" opacity="0.7"/>
  <text x="280" y="500" text-anchor="middle" font-size="8" fill="white">RR</text>
  <rect x="360" y="485" width="40" height="20" fill="#27ae60" opacity="0.7"/>
  <text x="380" y="500" text-anchor="middle" font-size="8" fill="white">EX</text>
  <rect x="460" y="485" width="40" height="20" fill="#c0392b" opacity="0.7"/>
  <text x="480" y="500" text-anchor="middle" font-size="8" fill="white">WB</text>
  
  <text x="30" y="525" font-size="10" fill="#2c3e50">I2:</text>
  <rect x="60" y="510" width="40" height="20" fill="#3498db" opacity="0.7"/>
  <text x="80" y="525" text-anchor="middle" font-size="8" fill="white">IF</text>
  <rect x="160" y="510" width="40" height="20" fill="#9b59b6" opacity="0.7"/>
  <text x="180" y="525" text-anchor="middle" font-size="8" fill="white">ID</text>
  <rect x="260" y="510" width="40" height="20" fill="#f39c12" opacity="0.7"/>
  <text x="280" y="525" text-anchor="middle" font-size="8" fill="white">RR</text>
  <rect x="360" y="510" width="40" height="20" fill="#2980b9" opacity="0.7"/>
  <text x="380" y="525" text-anchor="middle" font-size="8" fill="white">EX</text>
  <rect x="460" y="510" width="40" height="20" fill="#c0392b" opacity="0.7"/>
  <text x="480" y="525" text-anchor="middle" font-size="8" fill="white">WB</text>
  
  <text x="30" y="550" font-size="10" fill="#2c3e50">I3:</text>
  <rect x="60" y="535" width="40" height="20" fill="#3498db" opacity="0.7"/>
  <text x="80" y="550" text-anchor="middle" font-size="8" fill="white">IF</text>
  <rect x="160" y="535" width="40" height="20" fill="#9b59b6" opacity="0.7"/>
  <text x="180" y="550" text-anchor="middle" font-size="8" fill="white">ID</text>
  <rect x="260" y="535" width="40" height="20" fill="#f39c12" opacity="0.7"/>
  <text x="280" y="550" text-anchor="middle" font-size="8" fill="white">RR</text>
  <rect x="360" y="535" width="40" height="20" fill="#8e44ad" opacity="0.7"/>
  <text x="380" y="550" text-anchor="middle" font-size="8" fill="white">EX</text>
  <rect x="460" y="535" width="40" height="20" fill="#c0392b" opacity="0.7"/>
  <text x="480" y="550" text-anchor="middle" font-size="8" fill="white">WB</text>
  
  <!-- Key Features -->
  <text x="600" y="510" font-size="14" font-weight="bold" fill="#2c3e50">Key Features:</text>
  <text x="600" y="530" font-size="12" fill="#2c3e50">• Multiple instruction issue per cycle</text>
  <text x="600" y="550" font-size="12" fill="#2c3e50">• Out-of-order execution</text>
  <text x="600" y="570" font-size="12" fill="#2c3e50">• Register renaming</text>
  <text x="600" y="590" font-size="12" fill="#2c3e50">• Branch prediction</text>
  <text x="600" y="610" font-size="12" fill="#2c3e50">• Parallel execution units</text>
  <text x="600" y="630" font-size="12" fill="#2c3e50">• Instruction-level parallelism (ILP)</text>
  
  <!-- Central Watermark -->
  <text x="600" y="400" text-anchor="middle" font-size="36" fill="#bdc3c7" opacity="0.3" font-weight="bold">
    偷偷星球
  </text>
  
  <!-- Legend -->
  <text x="50" y="720" font-size="12" font-weight="bold" fill="#2c3e50">Legend:</text>
  <rect x="50" y="735" width="15" height="15" fill="#3498db"/>
  <text x="75" y="747" font-size="11" fill="#2c3e50">IF: Instruction Fetch</text>
  <rect x="200" y="735" width="15" height="15" fill="#9b59b6"/>
  <text x="225" y="747" font-size="11" fill="#2c3e50">ID: Instruction Decode</text>
  <rect x="370" y="735" width="15" height="15" fill="#f39c12"/>
  <text x="395" y="747" font-size="11" fill="#2c3e50">RR: Register Renaming</text>
  <rect x="540" y="735" width="15" height="15" fill="#27ae60"/>
  <text x="565" y="747" font-size="11" fill="#2c3e50">EX: Execute</text>
  <rect x="650" y="735" width="15" height="15" fill="#c0392b"/>
  <text x="675" y="747" font-size="11" fill="#2c3e50">WB: Write Back</text>
</svg>